(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61a1b68b"],{1:function(e,t){},"4b58":function(e,t,i){e.exports=i.p+"static/img/background.97a62e0b.jpeg"},"5add":function(e,t,i){"use strict";i("e96c")},7803:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"register",style:"background-image:url("+e.Background+");"},[t("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:e.registerForm,rules:e.loginRules,"label-position":"left","label-width":"88px"}},[t("h3",{staticClass:"title"},[e._v("\n      后台管理系统\n    ")]),e._v(" "),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{staticStyle:{width:"210px"},attrs:{"auto-complete":"on"},model:{value:e.registerForm.email,callback:function(t){e.$set(e.registerForm,"email",t)},expression:"registerForm.email"}}),e._v(" "),t("el-button",{attrs:{loading:e.codeLoading,disabled:e.isDisabled,size:"small"},on:{click:e.sendCode}},[e._v(e._s(e.buttonName))])],1),e._v(" "),t("el-form-item",{attrs:{label:"验证码",prop:"captcha"}},[t("el-input",{staticStyle:{width:"100%"},model:{value:e.registerForm.captcha,callback:function(t){e.$set(e.registerForm,"captcha",t)},expression:"registerForm.captcha"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{staticStyle:{width:"100%"},attrs:{type:"password"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1),e._v(" "),t("el-form-item",{staticStyle:{width:"100%"},attrs:{"label-width":"0px"}},[t("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister.apply(null,arguments)}}},[e.loading?t("span",[e._v("注 册 中...")]):t("span",[e._v("注 册")])])],1),e._v(" "),t("el-form-item",{staticStyle:{width:"100%"},attrs:{"label-width":"0px"}},[t("el-button",{staticStyle:{width:"100%"},attrs:{size:"medium"},nativeOn:{click:function(t){return t.preventDefault(),e.goToLogin.apply(null,arguments)}}},[t("span",[e._v("登 录")])])],1)],1),e._v(" "),e.$store.state.settings.showFooter?t("div",{attrs:{id:"el-login-footer"}},[t("span",{domProps:{innerHTML:e._s(e.$store.state.settings.footerTxt)}}),e._v(" "),t("span",[e._v(" ⋅ ")]),e._v(" "),t("a",{attrs:{href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank"}},[e._v(e._s(e.$store.state.settings.caseNumber))])]):e._e()],1)},s=[],a=(i("8de4"),i("83d6"),i("a78e"),i("4328")),n=i.n(a),o=i("4b58"),l=i.n(o),c=i("b9c8"),d={name:"Register",data:function(){return{buttonName:"获取验证码",isDisabled:!1,time:60,codeLoading:!1,Background:l.a,registerForm:{email:null,password:null,captcha:null},loginRules:{email:[{required:!0,trigger:"blur",message:"邮箱不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}],captcha:[{required:!0,trigger:"blur",message:"验证码不能为空"}]},loading:!1,redirect:void 0}},watch:{$route:{handler:function(e){var t=e.query;t&&t.redirect&&(this.redirect=t.redirect,delete t.redirect,"{}"!==JSON.stringify(t)&&(this.redirect=this.redirect+"&"+n.a.stringify(t,{indices:!1})))},immediate:!0}},created:function(){},methods:{sendCode:function(){var e=this;if(this.registerForm.email){this.codeLoading=!0,this.buttonName="发送中";var t=this;Object(c["c"])(this.registerForm.email).then((function(i){e.$message({showClose:!0,message:"发送成功，验证码有效期5分钟",type:"success"}),e.codeLoading=!1,e.isDisabled=!0,e.buttonName=e.time--+"秒后重新发送",e.timer=window.setInterval((function(){t.buttonName=t.time+"秒后重新发送",--t.time,t.time<0&&(t.buttonName="重新发送",t.time=60,t.isDisabled=!1,window.clearInterval(t.timer))}),1e3)})).catch((function(e){t.resetForm(),t.codeLoading=!1,t.buttonName="重新发送",t.time=60,t.isDisabled=!1}))}},goToLogin:function(){var e="/login";this.redirect&&(e="/login?redirect=".concat(this.redirect)),this.$router.push({path:e})},handleRegister:function(){var e=this;Object(c["a"])(this.registerForm).then((function(t){e.$message({showClose:!0,message:"注册成功",type:"success"}),e.$router.push({path:e.redirect||"/"})}))}}},u=d,m=(i("5add"),i("2877")),p=Object(m["a"])(u,r,s,!1,null,null,null);t["default"]=p.exports},"8de4":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i("24e5"),s=i.n(r),a="MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBANL378k3RiZHWx5AfJqdH9xRNBmD9wGD\n2iRe41HdTNF8RUhNnHit5NpMNtGL0NPTSSpPjjI1kJfVorRvaQerUgkCAwEAAQ==";function n(e){var t=new s.a;return t.setPublicKey(a),t.encrypt(e)}},b9c8:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}));var r=i("b775");function s(e){return Object(r["a"])({url:"api/code/resetEmail?email="+e,method:"post"})}function a(e){return Object(r["a"])({url:"api/code/sendEmailCaptcha?email="+e,method:"post"})}function n(e){return Object(r["a"])({url:"api/users/register",method:"post",data:e})}},e96c:function(e,t,i){}}]);